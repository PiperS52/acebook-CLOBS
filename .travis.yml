language: ruby
rvm:
- 2.5
env:
  global:
  - CC_TEST_REPORTER_ID=ce6bd7b5220a3a88d8ce3aac3f9c0b148ab1262010e677d36b9b647b537e6925
services:
- postgresql
before_script:
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
script:
- bundle install
- bundle exec bin/rails db:create
- bundle exec bin/rails db:migrate
- bundle exec rspec
after_script:
- "./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT"
deploy:
  provider: heroku
  api_key:
    secure: oJoQMyf2xOkKrSabOysv82uRSi0GwUaFAu8IPcA5ZYksyNk+w3BSsTerkYFd93Ghaa0K2fkPrGlqOAgZYFoVvrAVZKO3ko03MmQrvBP+MBEjR+UuuhWWVlgaJdoVO7o2tfL8D1xm9BmMJbV208r8CtIvzhAHOtqrTq+hUzoQxFISUlpsAKoHMJk5g0TJSNt/V+FC2o7xuhcj7RcqaWt/fpmUZSt/sWRtg3EsE1wppEkHr+ewrkp7ly/bi8q1GkAU1dmsWBxsgTJ4ByCJ4Z9DCn3CQMUPhK/pOmEgw0ww3gCdCP7lajeCK1kkCdFHRyQqndGYjOOEu/8hIgDNYNE7O3GBWx8YxOHgCViTHPAeU05mMsloLSVhbxz+qA+Abhx+8YBuTAw9qdLTv7a+dua13JIxz99BMuAXx458CEC/TAbubm/YZRsdGE8znVmAy8UI98+TtWVRLt9qx1GQGDESpPiWiHjHEKRCuYOCq3OqNa/+22o6hfo98XEbA9C7pPoCD+oWrXoWUBwlETIelhutfmIoK2bcMh0xbG6DGB2Rmw4ulpPuTxIOKy4geo7zaUUUQJBWcvrOYMtMhyumdjQKUE5jF8JMTiTt4ie8b6HV4snih3jgDHs3wIzgyVtTKrqPLZ+/cjdQVygegXarnPHQoPiQiRcGQbBqk9OJeI23U/U=
